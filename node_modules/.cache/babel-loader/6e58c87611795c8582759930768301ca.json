{"ast":null,"code":"var _jsxFileName = \"/Users/lonewolf777/Documents/todo/src/components/Context/TaskProvider.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useEffect, useReducer, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DataContext = /*#__PURE__*/createContext();\nexport const useTasks = () => {\n  _s();\n\n  return useContext(DataContext);\n};\n\n_s(useTasks, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nfunction reducer(prevState, action) {\n  switch (action.type) {\n    case 'INITIAL_LOGIN':\n      return [...action.payload];\n\n    case 'ADD_TASK':\n      return [...prevState, action.payload];\n\n    case 'DELETE_TASK':\n      let temp = [];\n\n      for (let i = 0; i < action.payload.id; i++) temp = [...temp, prevState[i]];\n\n      for (let i = action.payload.id + 1; i < prevState.length; i++) temp = [...temp, prevState[i]];\n\n      return [...temp];\n\n    case 'DELETE_ALL':\n      return [];\n\n    default:\n      return [...prevState];\n  }\n}\n\nexport const TaskProvider = ({\n  children\n}) => {\n  _s2();\n\n  const [todo, setTodo] = useReducer(reducer, []);\n  const [lastChange, setLastChange] = useState('');\n  useEffect(() => {\n    const data = localStorage.getItem('my-todo-list');\n    const lastTime = localStorage.getItem('last-change');\n\n    if (data) {\n      setTodo({\n        type: 'INITIAL_LOGIN',\n        payload: JSON.parse(data)\n      });\n    }\n\n    if (lastTime) {\n      setLastChange(JSON.parse);\n    }\n  }, []);\n  useEffect(() => {\n    const today = new Date();\n    setLastChange(today.toString());\n    localStorage.setItem('my-todo-list', JSON.stringify(todo));\n    localStorage.setItem('last-change', JSON.stringify(lastChange));\n  }, [todo, lastChange]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n      value: {\n        todo,\n        setTodo\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s2(TaskProvider, \"VgpZNHjddZUnc41IHQvfD16U94I=\");\n\n_c = TaskProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"TaskProvider\");","map":{"version":3,"sources":["/Users/lonewolf777/Documents/todo/src/components/Context/TaskProvider.jsx"],"names":["createContext","useContext","useEffect","useReducer","useState","DataContext","useTasks","reducer","prevState","action","type","payload","temp","i","id","length","TaskProvider","children","todo","setTodo","lastChange","setLastChange","data","localStorage","getItem","lastTime","JSON","parse","today","Date","toString","setItem","stringify"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,UAA/C,EAA2DC,QAA3D,QAA2E,OAA3E;;;AACA,MAAMC,WAAW,gBAAGL,aAAa,EAAjC;AAEA,OAAO,MAAMM,QAAQ,GAAG;AAAA;;AAAA,SAAML,UAAU,CAACI,WAAD,CAAhB;AAAA,CAAjB;;GAAMC,Q;;AAGb,SAASC,OAAT,CAAkBC,SAAlB,EAA8BC,MAA9B,EAAsC;AAClC,UAAOA,MAAM,CAACC,IAAd;AAEI,SAAK,eAAL;AACI,aAAM,CAAC,GAAGD,MAAM,CAACE,OAAX,CAAN;;AACJ,SAAK,UAAL;AACI,aAAM,CAAC,GAAGH,SAAJ,EAAgBC,MAAM,CAACE,OAAvB,CAAN;;AACJ,SAAK,aAAL;AACA,UAAIC,IAAI,GAAG,EAAX;;AACA,WAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAEJ,MAAM,CAACE,OAAP,CAAeG,EAAjC,EAAsCD,CAAC,EAAvC,EAA2CD,IAAI,GAAG,CAAC,GAAGA,IAAJ,EAAWJ,SAAS,CAACK,CAAD,CAApB,CAAP;;AAC3C,WAAI,IAAIA,CAAC,GAAGJ,MAAM,CAACE,OAAP,CAAeG,EAAf,GAAkB,CAA9B,EAAkCD,CAAC,GAAEL,SAAS,CAACO,MAA/C,EAAwDF,CAAC,EAAzD,EAA6DD,IAAI,GAAG,CAAC,GAAGA,IAAJ,EAAWJ,SAAS,CAACK,CAAD,CAApB,CAAP;;AACzD,aAAO,CAAC,GAAGD,IAAJ,CAAP;;AACJ,SAAK,YAAL;AACI,aAAO,EAAP;;AACJ;AACI,aAAM,CAAC,GAAGJ,SAAJ,CAAN;AAdR;AAgBH;;AAGD,OAAO,MAAMQ,YAAY,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgB;AAAA;;AAExC,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAiBhB,UAAU,CAACI,OAAD,EAAW,EAAX,CAAjC;AACA,QAAM,CAACa,UAAD,EAAcC,aAAd,IAA+BjB,QAAQ,CAAC,EAAD,CAA7C;AACAF,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMoB,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAb;AACA,UAAMC,QAAQ,GAAGF,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAjB;;AACA,QAAGF,IAAH,EAAQ;AACJH,MAAAA,OAAO,CAAC;AACJT,QAAAA,IAAI,EAAC,eADD;AAEJC,QAAAA,OAAO,EAACe,IAAI,CAACC,KAAL,CAAWL,IAAX;AAFJ,OAAD,CAAP;AAIH;;AACD,QAAGG,QAAH,EAAY;AACRJ,MAAAA,aAAa,CAACK,IAAI,CAACC,KAAN,CAAb;AACH;AAEJ,GAbQ,EAaP,EAbO,CAAT;AAgBAzB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAM0B,KAAK,GAAG,IAAIC,IAAJ,EAAd;AACAR,IAAAA,aAAa,CAACO,KAAK,CAACE,QAAN,EAAD,CAAb;AACAP,IAAAA,YAAY,CAACQ,OAAb,CAAqB,cAArB,EAAsCL,IAAI,CAACM,SAAL,CAAed,IAAf,CAAtC;AACAK,IAAAA,YAAY,CAACQ,OAAb,CAAqB,aAArB,EAAqCL,IAAI,CAACM,SAAL,CAAeZ,UAAf,CAArC;AACH,GALQ,EAKP,CAACF,IAAD,EAAME,UAAN,CALO,CAAT;AASA,sBACK;AAAA,2BACG,QAAC,WAAD,CAAa,QAAb;AAAsB,MAAA,KAAK,EAAE;AAACF,QAAAA,IAAD;AAAMC,QAAAA;AAAN,OAA7B;AAAA,gBACKF;AADL;AAAA;AAAA;AAAA;AAAA;AADH,mBADL;AAOF,CApCK;;IAAMD,Y;;KAAAA,Y","sourcesContent":["import { createContext, useContext, useEffect, useReducer, useState } from 'react' \nconst DataContext = createContext()\n\nexport const useTasks = () => useContext(DataContext)\n\n\nfunction reducer (prevState , action) {\n    switch(action.type){\n        \n        case 'INITIAL_LOGIN':\n            return[...action.payload]\n        case 'ADD_TASK':\n            return[...prevState , action.payload]\n        case 'DELETE_TASK':\n        let temp = []    \n        for(let i = 0 ;i< action.payload.id ; i++) temp = [...temp , prevState[i]]\n        for(let i = action.payload.id+1 ; i< prevState.length ; i++) temp = [...temp , prevState[i]]   \n            return [...temp]\n        case 'DELETE_ALL':\n            return []\n        default:\n            return[...prevState]\n    }\n}\n\n\nexport const TaskProvider = ({children}) => {\n     \n    const [todo,setTodo] = useReducer(reducer , [])\n    const [lastChange , setLastChange] = useState('')\n    useEffect(() => {\n        const data = localStorage.getItem('my-todo-list')\n        const lastTime = localStorage.getItem('last-change')\n        if(data){\n            setTodo({\n                type:'INITIAL_LOGIN',\n                payload:JSON.parse(data)\n            })\n        }\n        if(lastTime){\n            setLastChange(JSON.parse)\n        }\n\n    },[])\n\n\n    useEffect(() => {\n        const today = new Date()\n        setLastChange(today.toString())\n        localStorage.setItem('my-todo-list' , JSON.stringify(todo))\n        localStorage.setItem('last-change' , JSON.stringify(lastChange))\n    },[todo,lastChange])\n\n\n\n    return(\n         <>\n            <DataContext.Provider value={{todo,setTodo}}>\n                {children}\n            </DataContext.Provider>\n         </>\n     )\n }"]},"metadata":{},"sourceType":"module"}