{"ast":null,"code":"var _jsxFileName = \"/Users/lonewolf777/Documents/todo/src/components/Context/TaskProvider.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useEffect, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DataContext = /*#__PURE__*/createContext();\nexport const useTasks = () => {\n  _s();\n\n  return useContext(DataContext);\n};\n\n_s(useTasks, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nfunction reducer(prevState, action) {\n  switch (action.type) {\n    case 'INITIAL_LOGIN':\n      return [...action.payload];\n\n    case 'ADD_TASK':\n      return [...prevState, action.payload];\n\n    case 'DELETE_TASK':\n      let temp = [];\n\n      for (let i = 0; i < action.payload.id; i++) temp = [...temp, prevState[i]];\n\n      for (let i = action.payload.id + 1; i < prevState.length; i++) temp = [...temp, prevState[i]];\n\n      return [...temp];\n\n    case 'DELETE_ALL':\n      return [];\n\n    default:\n      return [...prevState];\n  }\n}\n\nexport const TaskProvider = ({\n  children\n}) => {\n  _s2();\n\n  const [todo, setTodo] = useReducer(reducer, []);\n  const {\n    lastLogin,\n    setLastLogin\n  } = useLogin();\n  const today = new Date();\n  useEffect(() => {\n    const data = localStorage.getItem('my-todo-list');\n\n    if (data) {\n      setTodo({\n        type: 'INITIAL_LOGIN',\n        payload: JSON.parse(data)\n      });\n    }\n\n    const lastTime = localStorage.getItem('last-change');\n\n    if (lastLogin) {\n      setLastLogin({\n        time: JSON.parse(lastTime)\n      });\n    }\n  }, []);\n  useEffect(() => {\n    setLastLogin(prevState => {\n      return {\n        time: today.toString()\n      };\n    });\n    localStorage.setItem('my-todo-list', JSON.stringify(todo));\n    localStorage.setItem('last-change', JSON.stringify(lastLogin));\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n      value: {\n        todo,\n        setTodo\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s2(TaskProvider, \"P/wy4VdTvCXRAVcEYFBFcwCd0KA=\", true);\n\n_c = TaskProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"TaskProvider\");","map":{"version":3,"sources":["/Users/lonewolf777/Documents/todo/src/components/Context/TaskProvider.jsx"],"names":["createContext","useContext","useEffect","useReducer","DataContext","useTasks","reducer","prevState","action","type","payload","temp","i","id","length","TaskProvider","children","todo","setTodo","lastLogin","setLastLogin","useLogin","today","Date","data","localStorage","getItem","JSON","parse","lastTime","time","toString","setItem","stringify"],"mappings":"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","sourcesContent":["import { createContext, useContext, useEffect, useReducer } from 'react' \nconst DataContext = createContext()\n\nexport const useTasks = () => useContext(DataContext)\n\n\nfunction reducer (prevState , action) {\n    switch(action.type){\n        \n        case 'INITIAL_LOGIN':\n            return[...action.payload]\n        case 'ADD_TASK':\n            return[...prevState , action.payload]\n        case 'DELETE_TASK':\n        let temp = []    \n        for(let i = 0 ;i< action.payload.id ; i++) temp = [...temp , prevState[i]]\n        for(let i = action.payload.id+1 ; i< prevState.length ; i++) temp = [...temp , prevState[i]]   \n            return [...temp]\n        case 'DELETE_ALL':\n            return []\n        default:\n            return[...prevState]\n    }\n}\n\n\nexport const TaskProvider = ({children}) => {\n     \n    const [todo,setTodo] = useReducer(reducer , [])\n    const { lastLogin,setLastLogin } = useLogin()\n    const today = new Date()\n    useEffect(() => {\n        const data = localStorage.getItem('my-todo-list')\n        if(data){\n            setTodo({\n                type:'INITIAL_LOGIN',\n                payload:JSON.parse(data)\n            })\n        }\n        const lastTime = localStorage.getItem('last-change')\n        if(lastLogin){\n            setLastLogin({\n                time:JSON.parse(lastTime)\n            })\n        }\n\n\n    },[])\n\n\n    useEffect(() => {\n        setLastLogin((prevState) => {\n            return{\n                time: today.toString()\n            }\n        })\n        localStorage.setItem('my-todo-list' , JSON.stringify(todo))\n        localStorage.setItem('last-change' , JSON.stringify(lastLogin))\n    })\n\n\n\n    return(\n         <>\n            <DataContext.Provider value={{todo,setTodo}}>\n                {children}\n            </DataContext.Provider>\n         </>\n     )\n }"]},"metadata":{},"sourceType":"module"}